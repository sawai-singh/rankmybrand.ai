/**
 * Global Styles - Professional B2B SaaS Design System
 * Design Philosophy: "Intelligence Through Clarity" - Data is the color, UI is invisible
 *
 * [80:Design tokens] CSS variables for consistent theming
 * [79:Theming] Dark/light mode support
 * [36:Contrast] WCAG AA compliant colors
 */

@import '../styles/design-system.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * PROFESSIONAL B2B MONOCHROME COLOR SYSTEM
   * Core principle: True neutral grayscale foundation
   * Color is ONLY used for data meaning (semantic)
   */
  :root {
    /* ===========================================
       NEUTRAL GRAYSCALE - THE FOUNDATION
       =========================================== */
    --neutral-0: 0 0% 100%;      /* Pure white - backgrounds (light mode) */
    --neutral-50: 0 0% 98%;      /* Off-white - subtle backgrounds, hover states */
    --neutral-100: 0 0% 96%;     /* Light gray - cards, panels */
    --neutral-200: 0 0% 90%;     /* Lighter border - subtle separators */
    --neutral-300: 0 0% 83%;     /* Border - visible separation */
    --neutral-400: 0 0% 64%;     /* Disabled text, placeholder */
    --neutral-500: 0 0% 45%;     /* Secondary text, muted content */
    --neutral-600: 0 0% 32%;     /* Body text - primary reading */
    --neutral-700: 0 0% 25%;     /* Headings - strong emphasis */
    --neutral-800: 0 0% 15%;     /* Dark headings - maximum emphasis */
    --neutral-900: 0 0% 9%;      /* Near black - hero text, key numbers */
    --neutral-950: 0 0% 4%;      /* True black - dark mode background */

    /* ===========================================
       SEMANTIC COLORS - DATA VISUALIZATION ONLY
       =========================================== */

    /* SUCCESS (Green) - ONLY for positive metrics/data */
    --success: 142 76% 36%;
    --success-foreground: 210 20% 98%;
    --success-50: 142 76% 97%;
    --success-500: 142 76% 46%;
    --success-600: 142 76% 36%;
    --success-700: 142 70% 30%;

    /* DANGER (Red) - ONLY for negative metrics/data */
    --danger: 0 72% 51%;
    --danger-foreground: 210 20% 98%;
    --danger-50: 0 84% 97%;
    --danger-500: 0 84% 60%;
    --danger-600: 0 72% 51%;
    --danger-700: 0 65% 45%;

    /* WARNING (Amber) - ONLY for alerts/caution */
    --warning: 38 92% 50%;
    --warning-foreground: 222 47% 11%;
    --warning-50: 38 92% 95%;
    --warning-500: 38 92% 50%;
    --warning-600: 38 92% 40%;

    /* INTERACTIVE (Blue) - ONLY for links/CTAs */
    --interactive: 217 91% 60%;
    --interactive-foreground: 210 20% 98%;
    --interactive-50: 217 91% 97%;
    --interactive-500: 217 91% 60%;
    --interactive-600: 217 91% 50%;
    --interactive-700: 217 91% 40%;

    /* ===========================================
       CORE THEME TOKENS (using neutral scale)
       =========================================== */
    --background: var(--neutral-0);
    --foreground: var(--neutral-900);
    --card: var(--neutral-0);
    --card-foreground: var(--neutral-900);
    --popover: var(--neutral-0);
    --popover-foreground: var(--neutral-900);

    /* Legacy aliases for backward compatibility */
    --primary: var(--interactive);
    --primary-foreground: var(--interactive-foreground);
    --destructive: var(--danger);
    --destructive-foreground: var(--danger-foreground);

    /* Muted/Secondary using neutral scale */
    --secondary: var(--neutral-100);
    --secondary-foreground: var(--neutral-900);
    --muted: var(--neutral-100);
    --muted-foreground: var(--neutral-500);
    --accent: var(--neutral-100);
    --accent-foreground: var(--neutral-900);

    /* UI tokens using neutral scale */
    --border: var(--neutral-200);
    --input: var(--neutral-200);
    --ring: var(--interactive);
    --radius: 0.5rem;

    /* Professional animation timing */
    --transition-base: 150ms;
    --transition-slow: 250ms;
    --transition-fast: 100ms;
  }

  .dark {
    /* Dark mode with professional neutral scale */
    --background: var(--neutral-950);
    --foreground: var(--neutral-0);
    --card: var(--neutral-900);
    --card-foreground: var(--neutral-0);
    --popover: var(--neutral-900);
    --popover-foreground: var(--neutral-0);

    /* Semantic colors remain consistent in dark mode */
    --success: 142 76% 46%;
    --danger: 0 84% 60%;
    --warning: 38 92% 50%;
    --interactive: 217 91% 60%;

    /* Muted/Secondary in dark mode */
    --secondary: var(--neutral-800);
    --secondary-foreground: var(--neutral-0);
    --muted: var(--neutral-800);
    --muted-foreground: var(--neutral-400);
    --accent: var(--neutral-800);
    --accent-foreground: var(--neutral-0);

    /* Dark mode UI tokens */
    --border: var(--neutral-800);
    --input: var(--neutral-800);
    --ring: var(--interactive);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    /* Professional typography with OpenType features */
    font-feature-settings: "rlig" 1, "calt" 1, "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Professional B2B Typography Hierarchy */
  h1, h2, h3, h4, h5, h6 {
    @apply font-sans font-bold text-neutral-900 dark:text-neutral-0;
    letter-spacing: -0.025em; /* Tighter tracking for headings */
  }

  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl lg:text-5xl; }
  h3 { @apply text-2xl md:text-3xl lg:text-4xl; }
  h4 { @apply text-xl md:text-2xl lg:text-3xl; }
  h5 { @apply text-lg md:text-xl lg:text-2xl; }
  h6 { @apply text-base md:text-lg lg:text-xl; }

  /* All code, numbers, and data should use monospace */
  code, pre {
    @apply font-mono text-sm tabular-nums;
  }

  /* Professional focus states using interactive color */
  :focus-visible {
    @apply outline-none ring-2 ring-interactive-500 ring-offset-2;
  }

  /* Accessibility helpers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

@layer components {
  /* ===========================================
     PROFESSIONAL B2B COMPONENTS
     No decorative elements - function over form
     =========================================== */

  /* Clean glass effect - subtle, professional */
  .glass {
    @apply bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm;
    @apply border border-neutral-200 dark:border-neutral-800;
    @apply shadow-sm;
  }

  /* Professional card with subtle hover (no scale) */
  .card-hover {
    @apply transition-all duration-150 ease-out;
    @apply hover:shadow-md;
  }

  @media (prefers-reduced-motion: reduce) {
    .card-hover {
      @apply hover:shadow-sm;
    }
  }

  /* Professional loading skeleton (neutral colors only) */
  .skeleton {
    @apply animate-pulse bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200;
    @apply dark:from-neutral-800 dark:via-neutral-900 dark:to-neutral-800;
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  /* Professional button styles (legacy support - use Button component instead) */
  .btn-primary {
    @apply bg-interactive-600 hover:bg-interactive-700;
    @apply text-white font-semibold;
    @apply px-6 py-3 min-h-[44px] rounded-md;
    @apply transition-all duration-150;
    @apply shadow-sm hover:shadow-md;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply focus:ring-2 focus:ring-interactive-500 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-0;
    @apply border border-neutral-300 dark:border-neutral-700;
    @apply px-6 py-3 min-h-[44px] rounded-md font-semibold;
    @apply transition-all duration-150;
    @apply hover:bg-neutral-50 dark:hover:bg-neutral-800;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2;
  }

  .btn-ghost {
    @apply text-neutral-700 dark:text-neutral-300;
    @apply px-4 py-2 min-h-[44px] rounded-md font-medium;
    @apply transition-all duration-150;
    @apply hover:bg-neutral-100 dark:hover:bg-neutral-800;
    @apply focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2;
  }

  /* Progress ring for data visualization */
  .progress-ring {
    @apply relative inline-flex items-center justify-center;
  }

  .progress-ring-circle {
    @apply transition-all duration-300 ease-out;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
  }

  /* Professional animations - subtle, fast (<300ms) */
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  .animate-fade-in {
    animation: fade-in 0.2s ease-out;
  }

  /* Clip-path glitch animation - adapted from Uiverse.io */
  @keyframes text-glitch {
    0% {
      clip-path: inset(50% 50% 50% 50%);
      transform: translate(0px, -10px);
    }
    10% {
      clip-path: inset(31% 0 40% 0);
      transform: translate(-10px, 10px);
    }
    20% {
      clip-path: inset(39% 0 15% 0);
      transform: translate(10px, 0px);
    }
    30% {
      clip-path: inset(45% 0 40% 0);
      transform: translate(-10px, 10px);
    }
    40% {
      clip-path: inset(45% 0 6% 0);
      transform: translate(10px, -10px);
    }
    50% {
      clip-path: inset(14% 0 61% 0);
      transform: translate(-10px, 10px);
    }
    60% {
      clip-path: inset(50% 50% 50% 50%);
      transform: translate(10px, -10px);
    }
    70% {
      clip-path: inset(39% 0 15% 0);
      transform: translate(-10px, 10px);
    }
    80% {
      clip-path: inset(31% 0 40% 0);
      transform: translate(10px, -10px);
    }
    90% {
      clip-path: inset(45% 0 40% 0);
      transform: translate(-10px, 10px);
    }
    100% {
      clip-path: inset(50% 50% 50% 50%);
      transform: translate(0);
    }
  }

  /* Glitch text wrapper */
  .glitch-text {
    position: relative;
    display: inline-block;
  }

  /* Glitch pseudo-element with color shadows */
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    clip-path: inset(50% 50% 50% 50%);
  }

  /* Active glitch state */
  .glitch-text.active {
    text-shadow: -1px -1px 0px #1df2f0, 1px 1px 0px #E94BE8;
  }

  .glitch-text.active::after {
    animation: text-glitch 0.5s;
    animation-timing-function: steps(2, end);
    text-shadow: -3px -3px 0px #1df2f0, 3px 3px 0px #E94BE8;
  }

  /* Respect user preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in,
    .skeleton,
    .glitch-text.active::after {
      animation: none;
    }

    .progress-ring-circle {
      @apply transition-none;
    }
  }
}

@layer utilities {
  /* ===========================================
     PROFESSIONAL NUMBER FORMATTING
     All metrics use monospace with tabular-nums
     =========================================== */

  /* Large hero metrics (78.3, 94.2, etc.) */
  .number-display-metric {
    @apply text-5xl font-extrabold font-mono tabular-nums text-neutral-900 dark:text-neutral-0;
    font-variant-numeric: tabular-nums lining-nums;
  }

  /* Data table values and medium numbers */
  .number-display-data {
    @apply text-2xl font-bold font-mono tabular-nums text-neutral-800 dark:text-neutral-100;
    font-variant-numeric: tabular-nums lining-nums;
  }

  /* Small inline numbers in text */
  .number-display-small {
    @apply text-sm font-semibold font-mono tabular-nums text-neutral-600 dark:text-neutral-300;
    font-variant-numeric: tabular-nums lining-nums;
  }

  /* ===========================================
     PROFESSIONAL TYPOGRAPHY UTILITIES
     =========================================== */

  /* Section headers - UPPERCASE with tracking */
  .section-header {
    @apply text-sm font-semibold text-neutral-500 dark:text-neutral-400 uppercase tracking-wide;
    letter-spacing: 0.05em;
  }

  /* Trust signals and metadata */
  .trust-metadata {
    @apply text-xs text-neutral-500 dark:text-neutral-400 flex items-center gap-2;
  }

  /* Body text optimized for reading */
  .body-text {
    @apply text-base text-neutral-600 dark:text-neutral-300 leading-relaxed;
  }

  /* Data labels (for charts, KPIs, etc.) */
  .data-label {
    @apply text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider;
  }

  /* ===========================================
     ACCESSIBILITY & UTILITY HELPERS
     =========================================== */

  /* Hide scrollbars */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Loading skeleton (professional neutral) */
  .loading-skeleton {
    @apply animate-pulse bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200;
    @apply dark:from-neutral-800 dark:via-neutral-900 dark:to-neutral-800;
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
}