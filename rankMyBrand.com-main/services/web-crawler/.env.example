# Web Crawler Service Configuration

# Server Configuration
PORT=3002
HOST=0.0.0.0
NODE_ENV=development

# Database Configuration
DATABASE_URL=postgresql://rankmybrand:password@localhost:5432/rankmybrand_crawler
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=1

# Crawler Configuration
MAX_CONCURRENT_CRAWLS=5
MAX_PAGES_PER_CRAWL=500
DEFAULT_CRAWL_DEPTH=3
RATE_LIMIT_PER_SECOND=5
JS_RENDERING_BUDGET=0.1
CRAWL_TIMEOUT_MS=10000
RETRY_ATTEMPTS=3

# Browser Configuration (for Playwright)
BROWSER_HEADLESS=true
BROWSER_TIMEOUT=15000
MAX_BROWSER_CONTEXTS=5
BROWSER_CONTEXT_TTL_MINUTES=30

# Cache Configuration
ROBOTS_CACHE_TTL_HOURS=24
CRAWL_RESULTS_TTL_DAYS=7
GEO_METRICS_CACHE_TTL_HOURS=1

# API Configuration
API_KEY_HEADER=x-api-key
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9091
LOG_LEVEL=info
LOG_FORMAT=json

# Cost Control
MAX_COST_PER_CRAWL=0.005
ALERT_COST_THRESHOLD=0.004

# External Services
GEO_CALCULATOR_URL=http://localhost:3001/api/calculate
GEO_CALCULATOR_API_KEY=

# Feature Flags
ENABLE_SITEMAP_DISCOVERY=true
ENABLE_REAL_TIME_UPDATES=true
ENABLE_RECOMMENDATIONS=true

# Search Intelligence Configuration
ENABLE_SEARCH_INTELLIGENCE=true

# SERP API Configuration
SERPAPI_KEY=your_serpapi_key_here
SERPAPI_DAILY_LIMIT=1000
SERPAPI_MONTHLY_LIMIT=30000

# Alternative SERP Providers
VALUESERP_KEY=your_valueserp_key_here
SCALESERP_KEY=your_scaleserp_key_here

# Search Intelligence Settings
SEARCH_INTEL_CACHE_TTL=86400  # 24 hours in seconds
SEARCH_INTEL_CACHE_COMPRESS=true
SERP_REQUESTS_PER_SECOND=5
SERP_BURST_LIMIT=10

# AI Visibility Prediction
AI_PREDICTION_CONFIDENCE_THRESHOLD=0.7
MAX_QUERIES_PER_ANALYSIS=20
DEFAULT_INDUSTRY=technology
